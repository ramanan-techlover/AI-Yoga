"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4422],{4422:function(e,t,r){r.r(t),r.d(t,{FeedTabs:function(){return U},__N_SSP:function(){return K},default:function(){return J}});var n=r(47568),i=r(14924),o=r(26042),s=r(69396),a=r(828),d=r(29815),l=r(20414),c=r(85893),u=r(67294),h=r(9008),m=r.n(h),p=r(98257),f=r(8891),g=r.n(f),x=r(63880),v=r(83905),k=r(69567),C={animals:{name:"Animals",id:"animals",matches:[{category:"animals",similarity_threshold:.21}],icon:(0,c.jsx)(function(){return(0,c.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,c.jsx)("path",{d:"M12 14V16.25M12 16.25C10 16.25 8.75 14.75 8.75 14.75M12 16.25C14 16.25 15.25 14.75 15.25 14.75M5.65249 9.26243L4.75 4.75L8.92438 6.41975C9.85807 6.01301 10.9004 5.78571 12 5.78571C13.0996 5.78571 14.1419 6.01301 15.0756 6.41975L19.25 4.75L18.3475 9.26243C18.9226 10.2272 19.25 11.337 19.25 12.5179C19.25 16.2359 16.0041 19.25 12 19.25C7.99594 19.25 4.75 16.2359 4.75 12.5179C4.75 11.337 5.07739 10.2272 5.65249 9.26243Z",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M10.5 11C10.5 11.2761 10.2761 11.5 10 11.5C9.72386 11.5 9.5 11.2761 9.5 11C9.5 10.7239 9.72386 10.5 10 10.5C10.2761 10.5 10.5 10.7239 10.5 11Z",stroke:"currentColor",strokeWidth:"0.9",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M14.5 11C14.5 11.2761 14.2761 11.5 14 11.5C13.7239 11.5 13.5 11.2761 13.5 11C13.5 10.7239 13.7239 10.5 14 10.5C14.2761 10.5 14.5 10.7239 14.5 11Z",stroke:"currentColor",strokeWidth:"0.9",strokeLinecap:"round",strokeLinejoin:"round"})]})},{}),url:"/c/animals"},anime:{name:"Anime",id:"anime",matches:[{category:"anime",similarity_threshold:.2}],negative_matches:[{category:"threedrender",similarity_threshold:.19},],icon:(0,c.jsx)(function(){return(0,c.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("path",{d:"M8.75 9.75H10.25M13.75 9.75H15.25M19.25 12C19.25 16.0041 16.0041 19.25 12 19.25C7.99594 19.25 4.75 16.0041 4.75 12C4.75 7.99594 7.99594 4.75 12 4.75C16.0041 4.75 19.25 7.99594 19.25 12ZM8.75 12.75C8.75 12.75 9 16.25 12 16.25C15 16.25 15.25 12.75 15.25 12.75H8.75Z",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"})})},{}),url:"/c/anime"},fashion:{name:"Fashion",id:"fashion",matches:[{category:"fashion",similarity_threshold:.18}],negative_matches:[{category:"animals",similarity_threshold:.18}],icon:(0,c.jsx)(function(){return(0,c.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("path",{d:"M8.25 10.939L12.704 17.795C12.7948 17.9348 12.9192 18.0496 13.0657 18.1291C13.2122 18.2085 13.3763 18.2501 13.543 18.25H19.25V16.683C19.25 14.953 17.901 13.55 16.244 13.55C14.974 13.55 13.784 12.921 13.034 11.87C12.889 11.667 12.747 11.46 12.583 11.273L9.25 7.45601L6.197 5.86201C5.532 5.51401 4.75 6.01901 4.75 6.79601V10.939M8.25 10.939H4.75M8.25 10.939V17.206C8.25 17.782 7.802 18.25 7.25 18.25H6.617C6.12 18.25 5.697 17.868 5.627 17.353L4.75 10.939",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"})})},{}),url:"/c/fashion"},food:{name:"Food",id:"food",matches:[{category:"food",similarity_threshold:.19}],negative_matches:[{category:"boobs",similarity_threshold:.16},{category:"nudity",similarity_threshold:.16},],icon:(0,c.jsx)(function(){return(0,c.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,c.jsx)("path",{d:"M18.6648 14.572L5.565 17.9569L10.3007 5.28269",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M11.2874 13.477C11.4926 13.2922 11.8088 13.3088 11.9935 13.514C12.1783 13.7192 12.1617 14.0354 11.9565 14.2201C11.7514 14.4049 11.4351 14.3883 11.2504 14.1831C11.0656 13.9779 11.0822 13.6617 11.2874 13.477Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M10.7659 9.91057C10.9711 9.72582 11.2873 9.7424 11.4721 9.94758C11.6568 10.1528 11.6402 10.469 11.435 10.6537C11.2299 10.8385 10.9137 10.8219 10.7289 10.6167C10.5442 10.4115 10.5607 10.0953 10.7659 9.91057Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M10.3009 5.281C15.2439 5.54005 18.9241 9.62735 18.665 14.5703",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M9.83297 7.45573C14.0736 7.60681 16.7501 10.5794 16.457 14.8125",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"})]})},{}),url:"/c/food"},landscapes:{name:"Landscapes",id:"landscapes",matches:[{category:"landscapes",similarity_threshold:.2}],negative_matches:[{category:"boobs",similarity_threshold:.2}],icon:(0,c.jsx)(function(){return(0,c.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,c.jsx)("path",{d:"M13.25 19.2515H4.75L7.14611 13.3317C7.8205 11.6655 10.1795 11.6655 10.8539 13.3317L13.25 19.2515Z",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M6.75 19.25H19.25L13 4.75L9.5 12",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"})]})},{}),url:"/c/landscapes"},scifi:{name:"Sci-Fi",id:"scifi",matches:[{category:"scifi",similarity_threshold:.21}],negative_matches:[{category:"boobs",similarity_threshold:.2}],icon:(0,c.jsx)(function(){return(0,c.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,c.jsx)("path",{d:"M8.75 15.75L6.75 19.25",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M15.25 15.75L17.25 19.25",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M15.25 8.75H8.75C7.09315 8.75 5.75 10.0931 5.75 11.75V12.25H18.25V11.75C18.25 10.0931 16.9069 8.75 15.25 8.75Z",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M7.75 8.75C7.75 6.40279 9.65279 4.75 12 4.75C14.3472 4.75 16.25 6.40279 16.25 8.75",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"})]})},{}),url:"/c/scifi"},vehicles:{name:"Vehicles",id:"vehicles",matches:[{category:"vehicles",similarity_threshold:.175}],negative_matches:[{category:"landscapes",similarity_threshold:.2},{category:"animals",similarity_threshold:.18},{category:"boobs",similarity_threshold:.2},],icon:(0,c.jsx)(function(){return(0,c.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,c.jsx)("path",{d:"M18.2502 17.25H5.75C5.19772 17.25 4.75 16.8023 4.75 16.25V12.75C4.75 11.6454 5.64543 10.75 6.75 10.75H17.2502C18.3548 10.75 19.2502 11.6454 19.2502 12.75V16.25C19.2502 16.8023 18.8025 17.25 18.2502 17.25Z",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M8.5 14C8.5 14.2761 8.27614 14.5 8 14.5C7.72386 14.5 7.5 14.2761 7.5 14C7.5 13.7239 7.72386 13.5 8 13.5C8.27614 13.5 8.5 13.7239 8.5 14Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M16.5 14C16.5 14.2761 16.2761 14.5 16 14.5C15.7239 14.5 15.5 14.2761 15.5 14C15.5 13.7239 15.7239 13.5 16 13.5C16.2761 13.5 16.5 13.7239 16.5 14Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M18.2502 10.75H5.75L6.47147 6.4212C6.6322 5.45683 7.46657 4.75 8.44425 4.75H15.556C16.5337 4.75 17.368 5.45683 17.5288 6.4212L18.2502 10.75Z",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M6.75 17.75V19.25",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M17.25 17.75V19.25",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"})]})},{}),url:"/c/vehicles"}},j=r(96486),y=r.n(j),w=r(95591),b=r(40006),L=r(2337);function M(e){var t=e.className,r=(0,k.ac)(768),n=(0,u.useMemo)(function(){var e=Array(50).fill(0).map(function(){return{width:Math.floor(100*Math.random()+100),height:Math.floor(100*Math.random()+100)}});return r?e.slice(0,10):e},[r]);return(0,c.jsx)(b.ZP,{columnsCountBreakPoints:p.F,className:t,children:(0,c.jsx)(L.Z,{gutter:"16px",children:n.map(function(e,t){return(0,c.jsx)("div",{className:"transition-colors bg-gray-400/10 aspect-square animate-borders-pulse w-full rounded-lg",style:{aspectRatio:e.width/e.height}},t)})})})}var _=r(10324),Z=r(28277),N=r(10435),W=r(62469);function I(e){var t=e.tabs,r=e.activeTabId,n=e.scrollContainerRef,i=(0,k.ac)(768),o=(0,u.useMemo)(function(){return t.filter(function(e){return(null==e?void 0:e.id)==="top"||(null==e?void 0:e.id)==="rising"})},[t]);null!==t[3]&&t.splice(3,0,null);var s=(0,u.useCallback)(function(e){if(n.current&&i&&e.currentTarget&&"offsetLeft"in e.currentTarget){var t;n.current.scrollTo({left:null===(t=e.currentTarget)||void 0===t?void 0:t.offsetLeft,behavior:"smooth"})}},[i,n]),a=t.find(function(e){return(null==e?void 0:e.id)==="daily-theme"});return(0,c.jsxs)("div",{className:"gap-3 max-md:gap-6 flex md:px-10 mt-3 md:mt-4 md:pb-4 transition-all duration-300",children:[o&&(0,c.jsx)(T,{tabs:o,onSelect:function(e,r){var n;s(r),null===(n=t.find(function(t){return t.id===e}))||void 0===n||n.onClick()},activeTabId:r}),a&&(0,c.jsx)(H,{className:a.hidden?"hidden":"",isActive:a.id===r,activeTabId:r,tab:a,onClick:function(e){s(e),a.onClick()}},a.name),(0,c.jsx)("div",{className:"!w-px min-w-[1px] bg-gray-90"},"divider"),t.map(function(e){return e&&(null==e?void 0:e.id)!=="daily-theme"&&(null==e?void 0:e.id)!=="rising"&&(null==e?void 0:e.id)!=="top"?(0,c.jsx)(H,{className:e.hidden?"hidden":"",isActive:e.id===r,activeTabId:r,tab:e,onClick:function(t){s(t),e.onClick()}},e.name):null})]})}function T(e){var t="top"===e.activeTabId||"rising"===e.activeTabId,r=e.tabs.find(function(e){return"top"===e.id}),n=e.tabs.find(function(e){return"rising"===e.id}),i="top"===e.activeTabId?r:n,o="top"===e.activeTabId?"md:w-7":"md:w-11";return i&&r&&n?(0,c.jsx)("div",{className:"relative",children:(0,c.jsx)(Z.t3.MenubarRoot,{children:(0,c.jsxs)(N.v2,{children:[(0,c.jsxs)(Z.t3.MenubarTrigger,{children:[(0,c.jsxs)("div",{className:"rounded-full text-sm py-[5.5px] max-md:px-2 pl-[14px] pr-2 font-[500]\n      flex md:flex-row gap-1 flex-none flex-col group items-center justify-center\n      max-md:snap-start max-md:first:pl-8 max-md:last:pr-8 ".concat(t?"md:text-black md:bg-white text-white":"text-gray-50 md:bg-gray-90 bg-transparent md:hover:bg-gray-85 md:hover:text-gray-25"),children:[i.icon,(0,c.jsx)("span",{className:"".concat(o," whitespace-nowrap text-left transition-all"),children:i.name}),(0,c.jsx)(_._M,{className:"max-md:hidden group-hover:translate-y-0.5 transition-transform"})]}),(0,c.jsx)(_._M,{className:"md:hidden"})]}),(0,c.jsx)(N.h_,{children:(0,c.jsxs)(Z.t3.MenubarContent,{align:"start",style:{minWidth:"150px"},sideOffset:5,alignOffset:-3,children:[(0,c.jsxs)(Z.t3.MenubarCheckboxItem,{checked:"rising"===e.activeTabId,className:"text-white pl-2 justify-between",onSelect:function(t){return e.onSelect("rising",t)},children:[(0,c.jsxs)("span",{className:"flex gap-1 items-center",children:[n.icon," ",null==n?void 0:n.name]}),(0,c.jsx)(N.AO,{className:"mr-0.5",children:(0,c.jsx)(W.nQG,{})})]}),(0,c.jsxs)(Z.t3.MenubarCheckboxItem,{checked:"top"===e.activeTabId,className:"text-white pl-2 justify-between",onSelect:function(t){return e.onSelect("top",t)},children:[(0,c.jsxs)("span",{className:"flex gap-1 items-center",children:[r.icon," ",null==r?void 0:r.name]}),(0,c.jsx)(N.AO,{className:"mr-0.5",children:(0,c.jsx)(W.nQG,{})})]})]})})]})})}):null}function H(e){var t=e.tab,r=e.className,n=e.isActive,i=e.onClick;return e.activeTabId,(0,c.jsxs)("button",{type:"button",onClick:i,className:"rounded-full text-sm py-[5.5px] max-md:px-2 pl-[14px] pr-4 font-[500]\n      flex md:flex-row gap-1 flex-none flex-col items-center justify-center\n      max-md:snap-start max-md:first:pl-8 max-md:last:pr-8\n      ".concat(n?"md:text-black md:bg-white text-white":"text-gray-50 md:bg-gray-90 bg-transparent md:hover:bg-gray-85 md:hover:text-gray-25"," ").concat(r),children:[t.icon,(0,c.jsx)("span",{className:"",children:t.name})]})}var P=r(18171),V=r(11163),F=r(80429),A=r(13344);function S(){return(0,c.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,c.jsx)("path",{d:"M4.75 7.75H14.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M4.75 16.25H14.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M4.75 12H19.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}var B=r(91696),R=r(2490),E={url:"/my-feed",name:"My Feed",icon:(0,c.jsx)(x.Z,{}),id:"my-feed",isCategory:!1},O={id:"rising",url:"/feed",name:"Rising",icon:(0,c.jsx)(function(){return(0,c.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("path",{d:"M18.2499 14C18.2499 18 15.5 19.25 11.9999 19.25C8 19.25 5.75 16.4 5.75 14C5.75 11.6 7 9.41667 8 8.75C8 11.55 10.6666 13.3333 11.9999 13.25C9.59994 9.65 11.6666 5.66667 12.9999 4.75C12.9999 9.25 18.2499 10 18.2499 14Z",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"})})},{}),isCategory:!1},D={id:"top",url:"/feed?sort=top",name:"Top",icon:(0,c.jsx)(function(){return(0,c.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,c.jsx)("path",{d:"M6.25 8.75H5.75C5.19772 8.75 4.75 9.19772 4.75 9.75V15.25C4.75 15.8023 5.19772 16.25 5.75 16.25H6.25C6.80228 16.25 7.25 15.8023 7.25 15.25V9.75C7.25 9.19772 6.80228 8.75 6.25 8.75Z",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M12.25 4.75H11.75C11.1977 4.75 10.75 5.19772 10.75 5.75V15.25C10.75 15.8023 11.1977 16.25 11.75 16.25H12.25C12.8023 16.25 13.25 15.8023 13.25 15.25V5.75C13.25 5.19772 12.8023 4.75 12.25 4.75Z",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M4.75 19.25H19.25",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,c.jsx)("path",{d:"M18.25 8.75H17.75C17.1977 8.75 16.75 9.19772 16.75 9.75V15.25C16.75 15.8023 17.1977 16.25 17.75 16.25H18.25C18.8023 16.25 19.25 15.8023 19.25 15.25V9.75C19.25 9.19772 18.8023 8.75 18.25 8.75Z",stroke:"currentColor",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"})]})},{}),isCategory:!1},q={id:"pure-prompt",url:"/pure-prompt",name:"Pure Prompt",icon:(0,c.jsx)(S,{}),isCategory:!1},z={id:"playground-v2",url:"/playground-v2",name:"Playground v2",icon:(0,c.jsx)(S,{}),isCategory:!1,feature_flag:!0},G={id:"playground-v2.5",url:"/playground-v2.5",name:"Playground v2.5",icon:(0,c.jsx)(S,{}),isCategory:!1,feature_flag:!0},Q={id:"daily-theme",name:"Daily Theme",url:"/daily-theme",isCategory:!1,icon:(0,c.jsx)(B.f,{})},K=!0,U=[O,D,Q,z,G,].concat((0,d.Z)(Object.entries(C).map(function(e){var t=(0,a.Z)(e,2),r=(t[0],t[1]);return(0,s.Z)((0,o.Z)({},r),{isCategory:!0})})),[E,]);function J(e){var t,r,a,h,f=e.data,x=e.initialCursor,j=e.initialCategory,b=e.postId,L=e.image,_=e.session,Z=e.gamma,N=e.tabId,W=e.dailyTheme,T=(0,V.useRouter)(),H=(0,u.useCallback)(function(){var e=T.query.categoryId;if(e){var t,r=e&&Object.keys(C).includes(e)?e:null;if(r)return U.find(function(e){return e.id===r})||O}return U.find(function(e){return e.url===T.asPath})||O},[T.query,T.asPath]),S=function(){if(N){var e=U.find(function(e){return e.id===N});return e||O}return 0===Z?D:U.find(function(e){return e.id===j})||O}(),B=(0,u.useState)(S),z=B[0],G=B[1],Q=(0,u.useState)((0,i.Z)({},z.id,x)),K=Q[0],J=Q[1],X=H();(0,u.useEffect)(function(){T.asPath.startsWith("/post/")||z.id===X.id||G(X)},[z.id,X,T.asPath]),(0,u.useEffect)(function(){g().track("Viewed feed",{tab:z.id})},[z]),(0,k.ac)(768);var Y=(0,P.z0)(),$=(0,P.l6)(),ee=(0,w.ZP)(["myfeed",null==_?void 0:null===(t=_.user)||void 0===t?void 0:t.id],(0,n.Z)(function(){var e,t,r;return(0,l.__generator)(this,function(t){switch(t.label){case 0:if(!(null==_?void 0:null===(e=_.user)||void 0===e?void 0:e.id))return[2,[]];t.label=1;case 1:return t.trys.push([1,4,,5]),[4,fetch("/api/images/feed?userId=".concat(_.user.id,"&isFeed=true"))];case 2:return[4,t.sent().json()];case 3:return[2,t.sent().images||[]];case 4:return r=t.sent(),console.error(r),[3,5];case 5:return[2,[]]}})}),{fallbackData:S.id===E.id?f:[]}),et=ee.data,er=ee.isLoading,en=(0,w.ZP)(["feed",S,null==_?void 0:null===(r=_.user)||void 0===r?void 0:r.id],(0,n.Z)(function(){var e;return(0,l.__generator)(this,function(t){switch(t.label){case 0:var r;return e=(0,i.Z)({},S.id,f),[4,Promise.all(U.map((r=(0,n.Z)(function(t){var r,n,a,c,u,h,m,p;return(0,l.__generator)(this,function(n){switch(n.label){case 0:if(t.id===S.id||t.id===E.id||t.feature_flag&&!Y||t.beta_feature_flag&&!Y&&!$)return[2];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,fetch("/api/images/risingFeed?category=".concat(t.isCategory?t.id:"","&purePrompt=").concat(t.id===q.id,"&model=").concat(null!==(r=({"playground-v2":"Playground_v2","playground-v2.5":"Playground_v2.5"})[t.id])&&void 0!==r?r:"","&is_top=").concat(t.id===D.id,"&tabId=").concat(t.id))];case 2:return[4,n.sent().json()];case 3:return c=(a=n.sent()).risingImages,u=a.uniqueImages,e[t.id]=(0,d.Z)(c).concat((0,d.Z)(u)),h=u.at(-1)||null,J(function(e){return(0,s.Z)((0,o.Z)({},e),(0,i.Z)({},t.id,h&&new Date(null!==(m=null==h?void 0:h.createdAt)&&void 0!==m?m:new Date).getTime()))}),[3,5];case 4:return p=n.sent(),console.error(p),e[t.id]=[],[3,5];case 5:return[2]}})}),function(e){return r.apply(this,arguments)})))];case 1:return t.sent(),[2,e]}})}),{fallbackData:(0,i.Z)({},S.id,f),revalidateOnFocus:!1}),ei=en.data,eo=en.isLoading,es=(0,P.KB)(),ea=(0,u.useRef)(null),ed=z.id!==S.id&&(z.id!==E.id&&eo||z.id===E.id&&er),el=(0,u.useRef)(null),ec=(0,F.Z)(el,{threshold:1,rootMargin:"-52px 0px 0px 0px"}),eu=(0,u.useMemo)(function(){return y().debounce(function(){var e,t,r,n;document.documentElement.scrollTo({top:(null!==(n=null===(r=null===(e=ea.current)||void 0===e?void 0:null===(t=e.parentElement)||void 0===t?void 0:t.previousElementSibling)||void 0===r?void 0:r.offsetTop)&&void 0!==n?n:1)-1,behavior:"auto"})},250)},[ea]),eh=(0,A.Z)(),em=U.filter(function(e){var t;return!(e.id===E.id&&!(null==_?void 0:null===(t=_.user)||void 0===t?void 0:t.id))&&!(e.feature_flag&&!Y)&&!(e.beta_feature_flag&&!Y&&!$)}).map(function(e){return(0,s.Z)((0,o.Z)({},e),{onClick:function(){T.push(e.url,void 0,{shallow:!0}),eu()}})}),ep=(null!==(a=null==ec?void 0:ec.intersectionRatio)&&void 0!==a?a:1)<1;return(0,c.jsxs)(c.Fragment,{children:[b&&L?(0,c.jsx)(v.k,{prompt:L.prompt,title:L.title,url:L.url,userName:L.user.displayName}):(0,c.jsxs)(m(),{children:[(0,c.jsx)("meta",{property:"og:title",content:"Free AI image generator: Art, Social Media, Marketing | Playground AI"}),(0,c.jsx)("meta",{property:"og:description",content:"Playground (official site) is a free-to-use online AI image creator. Use it to create art, social media posts, presentations, posters, videos, logos and more."})]}),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:(0,R.cn)("sticky z-20",es?"top-20 bg-pg-800 mb-8":"top-[51px] bg-gray-99"),ref:el,children:(0,c.jsx)("div",{ref:ea,className:(0,R.cn)("overflow-x-auto scrollbar-hide max-md:snap-x scroll-px-3 max-md:pb-3 max-md:border-b max-md:mb-2",!es&&ep&&"border-b border-gray-99"),children:(0,c.jsx)(I,{scrollContainerRef:ea,activeTabId:z.id,tabs:em})})}),(0,c.jsx)("div",{className:"flex flex-col gap-6 pt-2 px-5 md:px-10",children:(0,c.jsx)("div",{children:(0,c.jsxs)("div",{className:"relative",children:[eh&&(0,c.jsx)(M,{className:"absolute top-0 left-0 w-full h-full transition-all ".concat(ed?"":"opacity-0")}),(0,c.jsx)(p.Z,{dailyTheme:W,showDailyThemeCard:"daily-theme"===z.id,className:"w-full h-full transition-all ".concat(ed?"opacity-0":""),initialImages:(z.id===E.id?et:ei[z.id])||[],initialCursor:K[z.id],options:{url:"/api/images/feed",params:{isFeed:z.id===E.id,category:z.isCategory?z.id:null,purePrompt:z.id===q.id,tabId:z.id,model:null!==(h=({"playground-v2":"Playground_v2","playground-v2.5":"Playground_v2.5"})[z.id])&&void 0!==h?h:""}},emptyState:z.id===E.id?"My Feed shows images from people you follow. Follow people to see their images here.":"No images."},"feed-".concat(z.id).concat(ed?"-loading":""))]})})})]})]})}}}]);