(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6353],{44173:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/canvas/files",function(){return r(277)}])},65218:function(e,t,r){"use strict";r.d(t,{X:function(){return c},Z:function(){return d}});var n=r(85893),i=r(30908),a=r(41664),s=r.n(a);r(67294);var o=r(53926),l=r(8683),c=(0,r(36779).L)("header","w-full h-[51px] px-4 items-center border-b border-gray-85 bg-gray-95 z-[".concat(l.KN.CANVAS_DISABLED,"]"));function d(){return(0,n.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center text-white",children:[(0,n.jsx)(c,{className:"fixed top-0 left-0 right-0",children:(0,n.jsx)(o.Z,{isDeveloperMode:!1,showAllFilesButton:!0})}),(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4",children:[(0,n.jsx)("div",{className:"text-gray-25",children:(0,n.jsx)(i.Z,{width:36,height:36})}),(0,n.jsx)("p",{className:"text-gray-50 font-510 text-center max-w-sm px-10",children:"Canvas is only supported on desktop. Please use Board on mobile."}),(0,n.jsx)(s(),{href:"/create",children:(0,n.jsx)("a",{className:"font-590 text-purple-primary1",children:"Go to Board"})})]})]})}},53926:function(e,t,r){"use strict";r.d(t,{Z:function(){return j}});var n=r(26042),i=r(85893),a=r(67294),s=r(28277),o=r(828),l=r(41664),c=r.n(l);function d(e){var t=e.isHovered;return(0,i.jsxs)("svg",{width:"20",height:"18",viewBox:"0 0 17 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"",children:[(0,i.jsx)("path",{d:"M1.77806 2.86262L9.77806 1.52929C10.6009 1.39214 11.35 2.0267 11.35 2.86092V15.2344C11.35 16.0465 10.6383 16.6747 9.83255 16.574L1.83255 15.574C1.15697 15.4896 0.65 14.9153 0.65 14.2344V4.19425C0.65 3.53432 1.12711 2.97111 1.77806 2.86262Z",stroke:"currentColor",strokeWidth:"1.3",className:"".concat(t&&"-translate-x-px"," transition-all")}),(0,i.jsx)("path",{stroke:"currentColor",d:"M".concat(t?"10":"11"," 2.46667L12.8463 2.17947C13.4526 2.08516 14 2.55402 14 3.16758V14.8195C14 15.4375 13.4451 15.9075 12.8356 15.8059L").concat(t?"10":"11"," 15.5"),strokeWidth:"1.1",className:"transition-all ".concat(t&&"scale-x-[1.02]")}),(0,i.jsx)("path",{d:"M".concat(t?"13":"14.2031"," 3.5L14.9606 3.31063C15.5917 3.15285 16.2031 3.63021 16.2031 4.28078V13.7192C16.2031 14.3698 15.5917 14.8472 14.9606 14.6894L").concat(t?"13":"14.2031"," 14.5"),stroke:"currentColor",strokeWidth:"0.9",className:"".concat(t&&"scale-x-110"," transition-all transition-all")})]})}var u=r(51571),h=r(39918);function x(e){var t=e.borderRight,r=(0,h.m)(),n=(0,o.Z)(a.useState(!1),2),s=n[0],l=n[1];return(0,i.jsx)(u.u,{className:"pai-canvas-tooltip",placement:"bottom",label:"Go to Files",isDisabled:r,children:(0,i.jsx)("div",{className:"flex ",children:(0,i.jsx)(c(),{href:"/canvas/files",children:(0,i.jsx)("a",{id:"all-files-button",className:"flex items-center px-4 ".concat(t?"border-r border-gray-85":""," text-gray-50 hover:bg-gray-90"),onMouseEnter:function(){l(!0)},onMouseLeave:function(){l(!1)},children:(0,i.jsx)(d,{isHovered:s})})})})})}var f=r(34031),p=r(5152),v=r.n(p),g=r(58767),m=v()(function(){return Promise.all([r.e(385),r.e(1035),r.e(9762),r.e(12),r.e(1218),r.e(6149)]).then(r.bind(r,2387)).catch(function(e){return console.error("There was an error loading the edit canvas title component",e),g.Z})},{loadableGenerated:{webpack:function(){return[2387]}},ssr:!1});function j(e){var t,r=(0,f.op)(),o=(0,f.R5)();return(0,i.jsxs)("div",{className:"flex divide-x divide-gray-85 h-full",children:[(0,i.jsx)("div",{className:"flex relative pr-2 flex-none",children:(0,i.jsx)(s.ZP,(0,n.Z)({},e))}),(0,i.jsxs)(a.Fragment,{children:[e.showAllFilesButton&&(0,i.jsx)(x,{borderRight:!o}),o&&(0,i.jsx)(m,{})]},null===(t=r.data)||void 0===t?void 0:t.id)]})}},81895:function(e,t,r){"use strict";r.d(t,{fP:function(){return x},p1:function(){return f},zz:function(){return h}});var n=r(47568),i=r(20414),a=r(33219),s=r(90671),o=r(17616),l=r(83249),c=r(11163),d=r.n(c),u=r(34031);function h(e){l.mv.info({header:"Importing project file...",timeout:!1});var t=new FileReader;t.onload=function(t){var r,c=null===(r=t.target)||void 0===r?void 0:r.result;if("string"==typeof c){var h,x=(h=(0,n.Z)(function(t){var r,n,a,o;return(0,i.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,fetch("/api/canvas/new",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({canvasFile:t,fileName:null!==(n=(0,u.rV)(e.name.split(".")[0]))&&void 0!==n?n:"Untitled"},s.P)})];case 1:return[4,i.sent().json()];case 2:return(null===(r=(o=i.sent()).canvas)||void 0===r?void 0:r.id)?(d().push("/canvas/".concat(o.canvas.id)),l.JW.setState({toasts:[]})):l.mv.error("Couldn't import project file"),[3,4];case 3:return i.sent(),l.mv.error("Couldn't import project file"),[3,4];case 4:return[2]}})}),function(e){return h.apply(this,arguments)});try{var f=JSON.parse(c,s.o);if(3===f.paiCanvasExportFormatVersion){x(f);return}if(2===f.paiCanvasExportFormatVersion){var p={paiCanvasExportFormatVersion:3,"pai-canvas-state":JSON.parse(f[a.tI],s.o).page,"pai-canvas-image-assets":JSON.parse(f[a.O6],s.o),projectName:"Untitled"};x(p);return}if(!f.paiCanvasExportFormatVersion){var v=(0,o.k)(f)||{},g={paiCanvasExportFormatVersion:3,"pai-canvas-state":f.page,"pai-canvas-image-assets":v,projectName:"Untitled"};x(g);return}}catch(m){console.error("Error importing canvas file",m),l.mv.error("Couldn't import project file")}}},t.readAsText(e)}function x(){var e=document.createElement("input");e.type="file",e.accept=a.YF.join(", "),e.style.display="none",e.onchange=function(e){var t,r=null===(t=e.target.files)||void 0===t?void 0:t[0];r&&h(r)},document.body.appendChild(e),e.click()}function f(e,t){var r=(0,u.xf)(t),n=document.createElement("a"),i=new Blob([JSON.stringify(e)],{type:"text/plain"});n.href=URL.createObjectURL(i),n.download=r,document.body.appendChild(n),n.click()}},30908:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(26042),i=r(69396),a=r(99534),s=r(85893);function o(e){var t=e.width,r=e.height,o=(0,a.Z)(e,["width","height"]);return(0,s.jsxs)("svg",(0,i.Z)((0,n.Z)({className:"standalone",width:void 0===t?20:t,height:void 0===r?20:r,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o),{children:[(0,s.jsx)("path",{d:"M16.0416 10.0026C16.0416 13.3394 13.3367 16.0443 9.99988 16.0443C6.6632 16.0443 3.95825 13.3394 3.95825 10.0026C3.95825 6.66589 6.6632 3.96094 9.99988 3.96094C13.3367 3.96094 16.0416 6.66589 16.0416 10.0026Z",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M5.83325 5.83594L14.1666 14.1693",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})]}))}r(67294)},277:function(e,t,r){"use strict";r.r(t),r.d(t,{CanvasFileList:function(){return ee},default:function(){return Q}});var n=r(47568),i=r(828),a=r(20414),s=r(85893),o=r(65218),l=r(53926),c=r(9008),d=r.n(c),u=r(41664),h=r.n(u),x=r(83249),f=r(69669),p=r(8654),v=r(94978),g=r.n(v);function m(e){var t=e.deleteCanvas,r=(0,f.d)().closeModal;return(0,s.jsxs)(p.Z,{onSubmit:function(e){e.preventDefault(),r(),t()},children:[(0,s.jsx)(p.Z.Header,{children:(0,s.jsx)(p.Z.HeaderTitle,{children:"Are you sure you want to delete the file?"})}),(0,s.jsx)(p.Z.Body,{children:"Deleting a file will permanently remove it and you will not be able to recover it."}),(0,s.jsxs)(p.Z.Footer,{children:[(0,s.jsx)(p.Z.Cancel,{onClick:r}),(0,s.jsx)(p.Z.Submit,{className:g().DeleteButton,children:"Delete"})]})]})}var j=r(34031),y=r(84568),b=r(24625),w=r(67294),C=r(11199),k=r(32954),N=r(51571),L=r(10324),S=r(28717),E=r(40387),Z=r(65638);function F(e){var t=e.file,r=e.onDelete,n=(0,b.X)(),i=(0,w.useMemo)(function(){return(null==t?void 0:t.canvas.lastEdited)?(0,y.lY)(new Date(t.canvas.lastEdited)):null},[null==t?void 0:t.canvas.lastEdited]),a=(0,w.useState)(!1),o=a[0],l=a[1];if(!t)return(0,s.jsxs)("div",{className:"animate-pulse bg-gray-99 border text-gray-25 text-sm border-gray-85 rounded-lg h-full flex flex-col items-center justify-center overflow-hidden",children:[(0,s.jsx)("div",{className:"w-full h-[180px]"}),(0,s.jsx)("div",{className:"bg-gray-95 p-4 w-full text-gray-25 text-sm h-[64px]"})]});var c=(0,j.cp)(t.canvas.name,t.canvas.id);return(0,s.jsx)(h(),{href:c,children:(0,s.jsxs)("a",{className:"bg-gray-99 border text-gray-25 text-sm border-gray-85 hover:border-gray-75 rounded-lg h-full flex flex-col items-center justify-center group divide-y divide-gray-85 hover:divide-gray-75","data-cy":"canvas-file-preview",children:[(0,s.jsx)("img",{alt:"thumbnail",onError:function(e){l(!0),e.currentTarget.src="https://cdn.playground.com/logo/default_canvas_thumbnail.jpg"},src:"".concat(o?"https://cdn.playground.com/logo/default_canvas_thumbnail.jpg":"/api/canvas/thumbnail/".concat(null==t?void 0:t.canvas.id,".png")),style:{textIndent:"100%",overflow:"hidden",whiteSpace:"nowrap"},className:"h-[180px] rounded-t-[7px]"}),(0,s.jsxs)("div",{className:"bg-gray-95 group-hover:bg-gray-90 p-4 py-[11.5px] w-full text-gray-25 text-[13px] flex justify-between items-center rounded-b-[7px]",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"font-510 text-[13px] line-clamp-1",children:t.canvas.name}),(0,s.jsxs)("p",{className:"font-510 text-gray-50",children:["Edited ",i]})]}),n===c?(0,s.jsx)(Z.s8,{}):(0,s.jsx)(z,{onDelete:r,canvas:t})]})]})})}var M=function(e){var t=e.children,r=e.className,n=e.onClick;return(0,s.jsx)("div",{className:"p-1.5 px-2.5 flex gap-1.5 items-center ".concat(null!=r?r:""),role:"button",onClick:function(e){e.preventDefault(),n()},children:t})};function z(e){var t,r,n,i=e.onDelete,a=e.canvas,o=(r=(t={deleteCanvas:i}).deleteCanvas,n=(0,f.d)().setModalContent,r?function(){n((0,s.jsx)(m,{deleteCanvas:r}),{showCloseButton:!1,transitionModal:!0})}:function(){}),l=(0,w.useState)(!1),c=l[0],d=l[1],u=(0,w.useRef)(null);(0,C.p)(u,function(){d(!1)});var h=(0,S.J3)(a.canvas);return(0,s.jsxs)("div",{className:"relative flex",ref:u,children:[!h&&(0,s.jsx)(N.u,{label:"Shared file",className:"pai-canvas-tooltip",children:(0,s.jsx)("span",{className:"group-hover:text-gray-25 text-gray-50",children:(0,s.jsx)(k._,{})})}),(0,s.jsx)("div",{role:"button",className:"rounded ".concat(c?"bg-gray-85":""," hover:bg-gray-85 flex items-center justify-center group-hover:text-gray-25 text-gray-50"),onClick:function(e){e.stopPropagation(),e.preventDefault(),d(!c)},children:O}),c&&(0,s.jsxs)("div",{className:"absolute left-[calc(100%+6px)] w-40 -top-1 py-0.5 border border-gray-85 bg-gray-90 rounded-md text-[13px] text-gray-50 font-510",children:[h&&(0,s.jsxs)(M,{className:"hover:text-dark-pink",onClick:o,children:[(0,s.jsx)(L.Rj,{width:14,height:14}),"Delete"]}),(0,s.jsx)(D,{id:a.canvas.id})]})]})}function D(e){var t=e.id,r=(0,E.hz)(t);return r&&(0,s.jsxs)(M,{className:"hover:text-gray-25",onClick:r,children:[(0,s.jsx)(L.mB,{size:14}),"Share"]})}var O=(0,s.jsxs)("svg",{width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M13.5 12C13.5 12.5523 13.0523 13 12.5 13C11.9477 13 11.5 12.5523 11.5 12C11.5 11.4477 11.9477 11 12.5 11C13.0523 11 13.5 11.4477 13.5 12Z",fill:"currentColor"}),(0,s.jsx)("path",{d:"M13.5 8C13.5 8.55228 13.0523 9 12.5 9C11.9477 9 11.5 8.55228 11.5 8C11.5 7.44772 11.9477 7 12.5 7C13.0523 7 13.5 7.44772 13.5 8Z",fill:"currentColor"}),(0,s.jsx)("path",{d:"M13.5 16C13.5 16.5523 13.0523 17 12.5 17C11.9477 17 11.5 16.5523 11.5 16C11.5 15.4477 11.9477 15 12.5 15C13.0523 15 13.5 15.4477 13.5 16Z",fill:"currentColor"})]});function R(e){var t=e.title,r=e.description;return(0,s.jsxs)("div",{className:"space-y-0 font-medium",children:[(0,s.jsx)("h3",{className:"text-sm text-gray-25 text-left",children:t}),(0,s.jsx)("p",{className:"text-13 text-gray-50 text-left",children:r})]})}var _=r(81895),B=r(11163),T=r(61447),W=r(33299),A=r(8891),P=r.n(A),V=r(82175),I=r(92562);function H(){var e=(0,i.Z)((0,I.Iw)("advanced-tutorial-hidden",!1),2),t=e[0],r=e[1];return t?null:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(h(),{href:"/api/canvas/new?advanced_tutorial=1",children:(0,s.jsxs)("a",{onClick:function(){P().track("Advanced tutorial CTA Clicked",{source:"All files page"})},target:"_blank",className:"bg-gray-99 border text-gray-25 text-sm border-gray-85 hover:border-gray-75 rounded-lg h-full flex flex-col items-center justify-center group divide-y divide-gray-85 hover:divide-gray-75 relative",children:[(0,s.jsxs)("div",{className:"h-[180px] w-full pl-8 pt-10",children:[(0,s.jsx)("h4",{className:"font-590 text-gray-10 text-sm",children:"Learn Advanced Tools"}),(0,s.jsxs)("ol",{className:"list-disc text-gray-50 text-13 font-510 pl-2 mt-1",children:[(0,s.jsx)("li",{children:"Background removal"}),(0,s.jsx)("li",{children:"Generating multiple images"}),(0,s.jsx)("li",{children:"Object eraser"}),(0,s.jsx)("li",{children:"Image variations"})]})]}),(0,s.jsx)("div",{className:"h-[64px] p-4 py-[11.5px] w-full text-gray-25 text-[13px] flex justify-between items-center rounded-b-[7px]",children:(0,s.jsxs)("span",{className:"marketing-button green w-full group-hover:bg-green-35",children:["Start Tutorial"," ",(0,s.jsx)("p",{className:"transition-all opacity-0 -translate-x-1 !w-0 group-hover:translate-x-0 group-hover:opacity-100 inline-block",children:"→"})]})})]})}),(0,s.jsx)("button",{type:"button",className:"bg-white/10 text-gray-25 absolute top-3 right-3 flex items-center justify-center font-510 w-5 h-5 rounded-full text-13 hover:text-white",onClick:function(){r(!0)},children:(0,s.jsx)(V.Z,{width:16})})]})}var U=r(61896),J=r(88098),X=r(8683);function G(){return(0,s.jsxs)("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M8.20852 25.667H18.124C18.8767 25.667 19.469 25.0426 19.319 24.305C18.905 22.2686 17.5526 18.667 13.1663 18.667C8.78003 18.667 7.42768 22.2686 7.0136 24.305C6.86362 25.0426 7.45586 25.667 8.20852 25.667Z",stroke:"currentColor",strokeWidth:"2.03125",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M21.5 18.667C24.2717 18.667 25.4069 21.5309 25.8652 23.595C26.1127 24.7097 25.2111 25.667 24.0692 25.667H22.8333",stroke:"currentColor",strokeWidth:"2.03125",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M13.1667 13.6663C15.1917 13.6663 16.8333 12.0247 16.8333 9.99967C16.8333 7.97463 15.1917 6.33301 13.1667 6.33301C11.1416 6.33301 9.5 7.97463 9.5 9.99967C9.5 12.0247 11.1416 13.6663 13.1667 13.6663Z",stroke:"currentColor",strokeWidth:"2.03125",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M20.166 13.6663C22.1911 13.6663 23.4993 12.0247 23.4993 9.99967C23.4993 7.97463 22.1911 6.33301 20.166 6.33301",stroke:"currentColor",strokeWidth:"2.03125",strokeLinecap:"round",strokeLinejoin:"round"})]})}var Y=r(48715);function K(){return(0,s.jsx)("aside",{className:"w-56 relative bg-gray-95 border-r border-gray-85 text-white max-md:hidden min-h-screen",children:(0,s.jsxs)("div",{className:"fixed top-14 w-[inherit]",children:[(0,s.jsx)("h3",{className:"text-gray-60 font-bold uppercase text-xs pt-3 pb-2 px-6 select-none",children:"Teams"}),(0,s.jsx)("ul",{className:"px-2 text-gray-25 w-full text-13 font-semibold",children:(0,s.jsx)("li",{children:(0,s.jsx)(q,{})})})]})})}function q(){var e=(0,w.useState)(!1),t=e[0],r=e[1];return(0,s.jsxs)(J.fC,{open:t,onOpenChange:function(e){e&&P().track("Add team intent",{step:"Click add team button"}),r(e)},modal:!1,children:[(0,s.jsx)(J.xz,{asChild:!0,children:(0,s.jsxs)("button",{type:"button",className:"px-4 flex items-center text-purple-primary gap-1 py-2.5 hover:bg-gray-85 w-full rounded-md data-[state=open]:bg-gray-85",children:[(0,s.jsx)(U.Z,{size:12})," Create new team"]})}),(0,s.jsx)(J.Uv,{children:(0,s.jsxs)(J.VY,{style:{zIndex:X.KN.TOASTS},side:"right",align:"start",sideOffset:16,className:"bg-gray-90 flex flex-col items-center gap-4 w-[260px] p-4 py-6 rounded-md",children:[(0,s.jsx)("span",{className:"text-purple-primary",children:(0,s.jsx)(G,{})}),(0,s.jsxs)("p",{className:"text-gray-50 text-13 w-full px-2 font-510",children:["Team plan supports:",(0,s.jsxs)("ol",{className:"list-disc text-gray-10 px-4 mt-1",children:[(0,s.jsx)("li",{children:"Shared workspaces"}),(0,s.jsx)("li",{children:"Unified billing"}),(0,s.jsx)("li",{children:"Single sign on"}),(0,s.jsx)("li",{children:"User management"}),(0,s.jsx)("li",{children:"Permissions"})]})]}),(0,s.jsx)("div",{className:"mt-2 w-full text-13 space-y-1",children:(0,s.jsxs)("button",{type:"button",className:"bg-purple-primary1 hover:bg-purple-primary text-white w-full rounded py-1.5 font-510 flex justify-center items-center gap-1 h-8",onClick:function(){var e;null===(e=window.Intercom)||void 0===e||e.call(window,"showNewMessage"),P().track("Add team intent",{step:"Click chat with us"}),r(!1)},children:[(0,s.jsx)(Y.Z,{strokeWidth:2,size:18}),"Chat to learn more"]})})]})})]})}function Q(){var e=(0,W.useSession)(),t=(0,B.useRouter)(),r=(0,w.useRef)(!1);if("loading"===e.status)return(0,s.jsx)(s.Fragment,{});if("unauthenticated"===e.status){r.current||(r.current=!0,t.push("/login?redirect=/canvas/files"));return}return(0,s.jsx)($,{})}function $(){var e=(0,S.yc)(),t=e.limit,r=e.showModal,n=e.isLoading,i=(0,w.useState)(!1),a=i[0],c=i[1],u=function(e){var i;if((null==e?void 0:null===(i=e.name)||void 0===i?void 0:i.endsWith(".pg"))&&P().track("Imported canvas from drag and drop"),!n){if(t)return r();e?(0,_.zz)(e):(0,_.fP)()}};return(0,s.jsxs)("div",{className:"text-white h-full min-h-screen",onDragOver:function(e){var t=Array.from(e.dataTransfer.items).some(function(e){return"file"===e.kind});t&&e.preventDefault(),t&&c(!0)},onDragEnd:function(e){e.preventDefault(),c(!1)},onDragLeave:function(e){e.preventDefault(),c(!1)},onDrop:function(e){e.preventDefault(),c(!1),u(e.dataTransfer.files[0])},children:[a&&(0,s.jsx)("div",{className:"absolute top-16 bg-purple-primary text-white rounded-md p-2 font-510 left-1/2 -translate-x-1/2",children:"Drop to import .pg file"}),(0,s.jsx)(d(),{children:(0,s.jsx)("title",{children:"Files - Playground"})}),(0,s.jsxs)(o.X,{className:"fixed flex justify-between !pr-0",children:[(0,s.jsx)(l.Z,{isDeveloperMode:!1,onImportCanvas:function(){return u()}}),(0,s.jsx)(T.ZP,{})]}),(0,s.jsxs)("section",{className:"flex",children:[(0,s.jsx)(K,{}),(0,s.jsx)("div",{className:"max-w-screen-xl px-10 pt-24 pb-10 mx-auto flex-grow",children:(0,s.jsx)(ee,{onImportCanvas:u})})]}),(0,s.jsx)(x.F1,{})]})}function ee(e){var t=e.onImportCanvas,r=(0,S.iA)(),o=r.data,l=r.isLoading,c=r.error,d=r.mutate,u=(0,i.Z)((0,I.Iw)("advanced-tutorial-hidden",!1),1)[0],f=c?(0,s.jsxs)("div",{className:"rounded-lg border border-dark-pink p-2 px-3 bg-dark-pink/10 inline-block",children:[(0,s.jsx)("p",{className:"text-gray-10",children:"An error occurred loading your files."}),(0,s.jsxs)("details",{children:[(0,s.jsx)("summary",{children:"View Error"}),(0,s.jsx)("pre",{children:c.toString()})]})]}):null,p=(0,S.Vs)(),v=(0,S.yc)().limit,g=(0,B.useRouter)(),m=(0,w.useRef)(!1);return(0,w.useEffect)(function(){"true"!==g.query.showUpgrade||m.current||(m.current=!0,p(),g.replace(g.pathname,void 0,{shallow:!0}))},[g,p]),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"grid grid-cols-canvas gap-7 justify-center select-none",children:[(0,s.jsx)(h(),{href:"/api/canvas/new",children:(0,s.jsxs)("a",{className:"border border-gray-85 hover:border-gray-75 px-6 py-5 flex gap-4 rounded-lg items-center hover:bg-gray-90",onClick:function(e){(l||v)&&e.preventDefault(),v&&p()},children:[et.add,(0,s.jsx)(R,{title:"New Canvas File",description:"Powerful Image Editor"})]})}),(0,s.jsxs)("button",{onClick:function(){return t()},className:"border border-gray-85 hover:border-gray-75 px-6 py-5 flex gap-4 rounded-lg items-center hover:bg-gray-90",type:"button",children:[et.import,(0,s.jsx)(R,{title:"Import Canvas File",description:"Bring in an existing file"})]}),(0,s.jsx)("section",{className:"translate-y-3 mt-1 col-span-full",children:(0,s.jsx)("h1",{className:"text-lg font-medium",children:"All Canvas Files"})}),!l&&!u&&(0,s.jsx)(H,{}),o&&0!==o.length?o.map(function(e){return(0,s.jsx)(F,{file:e,onDelete:(0,n.Z)(function(){var t;return(0,a.__generator)(this,function(r){switch(r.label){case 0:return d(o.filter(function(t){return t.canvas.id!==e.canvas.id}),!1),t=function(){return x.mv.error("Failed deleting file")},[4,fetch("/api/canvas/delete?id=".concat(e.canvas.id),{method:"DELETE"}).then(function(e){console.log(e),e.ok||t()}).catch(function(e){console.error(e),t()})];case 1:return r.sent(),[2]}})})},e.canvas.id)}):l?(0,s.jsx)(s.Fragment,{children:Array(12).fill(0).map(function(e,t){return(0,s.jsx)(F,{},t)})}):f||(0,s.jsx)("p",{className:"text-gray-50",children:"No files found. Create your first."})]})})}var et={import:(0,s.jsxs)("svg",{width:"27",height:"26",viewBox:"0 0 27 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("rect",{x:"0.5",width:"26",height:"26",rx:"5",fill:"#6858F5"}),(0,s.jsx)("path",{d:"M10.5835 6.95703H9.12516C8.20469 6.95703 7.4585 7.70322 7.4585 8.6237V17.3737C7.4585 18.2942 8.20469 19.0404 9.12516 19.0404H17.8753C18.7958 19.0404 19.542 18.2942 19.542 17.3737V11.332",stroke:"white",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M15.6537 11.8078L13.711 13.8282M13.711 13.8282L11.9058 11.6841M13.711 13.8282L13.8347 10.0802C13.9258 7.32031 16.237 5.1568 18.9969 5.24789L19.2051 5.25476",stroke:"white",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]}),add:(0,s.jsxs)("svg",{width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("rect",{width:"26",height:"26",rx:"5",fill:"#6858F5"}),(0,s.jsx)("path",{d:"M13 7V19",stroke:"white",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M19 13H7",stroke:"white",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"})]})}},94978:function(e){e.exports={DeleteButton:"DeleteCanvas_DeleteButton__VYwTJ"}},61896:function(e,t,r){"use strict";var n=r(67294),i=r(45697),a=r.n(i);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var o=(0,n.forwardRef)(function(e,t){var r=e.color,i=e.size,a=void 0===i?24:i,o=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,["color","size"]);return n.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),n.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),n.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});o.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},o.displayName="Plus",t.Z=o},6096:function(e,t,r){"use strict";r.d(t,{Z:function(){return w}});var n=r(87462),i=r(67294),a=i.useLayoutEffect,s=function(e){var t=i.useRef(e);return a(function(){t.current=e}),t},o=function(e,t){if("function"==typeof e){e(t);return}e.current=t},l=function(e,t){var r=(0,i.useRef)();return(0,i.useCallback)(function(n){e.current=n,r.current&&o(r.current,null),r.current=t,t&&o(t,n)},[t])},c={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},d=function(e){Object.keys(c).forEach(function(t){e.style.setProperty(t,c[t],"important")})},u=null,h=function(e,t){var r=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?r+t.borderSize:r-t.paddingSize},x=function(){},f=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],p=!!document.documentElement.currentStyle,v=function(e){var t=window.getComputedStyle(e);if(null===t)return null;var r,n,i=f.reduce(function(e,r){return e[r]=t[r],e},{}),a=i.boxSizing;if(""===a)return null;p&&"border-box"===a&&(i.width=parseFloat(i.width)+parseFloat(i.borderRightWidth)+parseFloat(i.borderLeftWidth)+parseFloat(i.paddingRight)+parseFloat(i.paddingLeft)+"px");var s=parseFloat(i.paddingBottom)+parseFloat(i.paddingTop),o=parseFloat(i.borderBottomWidth)+parseFloat(i.borderTopWidth);return{sizingStyle:i,paddingSize:s,borderSize:o}};function g(e,t,r){var n=s(r);(0,i.useLayoutEffect)(function(){var r=function(e){return n.current(e)};return e.addEventListener(t,r),function(){return e.removeEventListener(t,r)}},[])}var m=function(e){g(window,"resize",e)},j=function(e){g(document.fonts,"loadingdone",e)},y=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],b=function(e,t){var r=e.cacheMeasurements,a=e.maxRows,s=e.minRows,o=e.onChange,c=void 0===o?x:o,f=e.onHeightChange,p=void 0===f?x:f,g=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,y),b=void 0!==g.value,w=(0,i.useRef)(null),C=l(w,t),k=(0,i.useRef)(0),N=(0,i.useRef)(),L=function(){var e,t,n,i,o,l,c,x,f,g,m,j,y=w.current,b=r&&N.current?N.current:v(y);if(b){N.current=b;var C=(e=b,t=y.value||y.placeholder||"x",n=s,i=a,void 0===n&&(n=1),void 0===i&&(i=1/0),u||((u=document.createElement("textarea")).setAttribute("tabindex","-1"),u.setAttribute("aria-hidden","true"),d(u)),null===u.parentNode&&document.body.appendChild(u),o=e.paddingSize,l=e.borderSize,x=(c=e.sizingStyle).boxSizing,Object.keys(c).forEach(function(e){u.style[e]=c[e]}),d(u),u.value=t,f=h(u,e),u.value=t,f=h(u,e),u.value="x",m=(g=u.scrollHeight-o)*n,"border-box"===x&&(m=m+o+l),f=Math.max(m,f),j=g*i,"border-box"===x&&(j=j+o+l),[f=Math.min(j,f),g]),L=C[0],S=C[1];k.current!==L&&(k.current=L,y.style.setProperty("height",L+"px","important"),p(L,{rowHeight:S}))}},S=function(e){b||L(),c(e)};return(0,i.useLayoutEffect)(L),m(L),j(L),(0,i.createElement)("textarea",(0,n.Z)({},g,{onChange:S,ref:C}))},w=(0,i.forwardRef)(b)}},function(e){e.O(0,[385,12,9774,2888,179],function(){return e(e.s=44173)}),_N_E=e.O()}]);